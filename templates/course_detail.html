<!DOCTYPE html>
<html>
<head>
  <meta charset="utf-8" />
  <title>Course Detail</title>
  <style>
    table { border-collapse: collapse; width: 100%; }
    th, td { border: 1px solid #ccc; padding: 8px; vertical-align: top; }
    th { background: #f2f2f2; }
    .wrap { white-space: normal; }
  </style>
</head>
<body>

<h1>Course: {{ course }}</h1>

<p><b>Base course:</b> {{ base_course }}</p>

{% if overall is not none %}
  <p><b>Overall course similarity:</b> {{ "%.3f"|format(overall) }}</p>
{% else %}
  <p><b>Overall course similarity:</b> (not found in course_similarity_top.csv)</p>
{% endif %}

<p><b>Base CLO:</b> {{ base_clo }}</p>

<p>
  <a href="/?course={{ base_course|urlencode }}&clo={{ base_clo|urlencode }}">&larr; Back</a>
</p>

<hr>

<h2>All CLOs in {{ course }}</h2>

{% if not drilldown_enabled %}
  <p><i>Note: clo_similarity_drilldown.csv not found, so this view may show only a few rows.</i></p>
{% endif %}

{% if rows %}
  <table>
    <tr><th class="wrap">CLO</th><th>Similarity</th></tr>
    {% for r in rows %}
      <tr>
        <td class="wrap">{{ r.compare_clo }}</td>
        <td>{{ "%.3f"|format(r.similarity) }}</td>
      </tr>
    {% endfor %}
  </table>
{% else %}
  <p>No rows found for this course + base CLO combination.</p>
{% endif %}

</body>
</html>
